/*! conditionalimage - v1.0.0 - 2014-04-12
* https://github.com/edgardleal/conditionalimage
* Copyright (c) 2014 Edgard Leal; Licensed MIT */
var x=eval;!function(a){a.widget("custon.conditionalImage",{options:{hide:{duration:1e3,effect:"fade"},show:{duration:1e3,effect:"fade"},images:[],rules:[],currentValue:0,value:0},value:function(a){var b=this;return a?a===this.options.value?a:(b.options.value=a,void b.refresh()):b.options.value},_createInnerImage:function(){this.image=a('<img src="" />'),this.image.appendTo(this.element)},_setup:function(){this.element.addClass("conditionalImage"),0===this.element.find("img").length&&this._createInnerImage()},_create:function(){this._setup()},_hide:function(a){this.image.hide(this.options.hide.effect,this.options.hide.duration,a)},_show:function(a){this.image.show(this.options.show.effect,this.options.show.duration,a)},_changeImage:function(a){var b=this;b._hide(function(){b.image.attr("src",a),b._show()})},refresh:function(){var a="var value = "+this.options.value+"; ";for(var b in this.options.rules)if(x(a+this.options.rules[b])&&this.image.attr("src")!==this.options.images[b]){this._changeImage(this.options.images[b]);break}}}),a.expr[":"].conditionalImage=function(b){return a(b).hasClass("conditionalImage")}}(jQuery);